# Huxon Containerized Sensor Examples

This repository contains a set of examples to create containerized sensors that can be uploaded and used in the Huxon platform, to provide data within the various deployed algorithms of your IoT solutions.

The examples can be coded in the following languages:

- C
- Python
- NodeJS

## Instructions

To correctly build the example containers, run the following:

```bash
cd examples/<preferred language>
docker build -t <name of the sensor> -f Dockerfile .
```

You may now push the docker image to your private/public registry and use it within the Huxon platform, when defining the corresponding containerized sensor.

## Develop your own module

To develop a custom module, follow the steps below:

1. Install python dependencies. The preferred python version is 3.9

```bash
python3 -m pip install -r requirements.txt
```

2. Create a new development module in the `dev` directory. Select a module name and a template (e.g. c|csharp|java|nodejs|python|csharpfunction)

```bash
# In case a nodejs is used, please install the following as well, provided you have npm installed in the system
npm install -g yo # Yeoman
npm install -g generator-azure-iot-edge-module

mkdir dev/<custom-module> && cd dev/<custom-module>
iotedgedev new -m <module-name> -t <template> .
```

3. Build the development module

```bash
iotedgedev build
```

4. Setup the IoT Edge device. For this you will need the connection string which can be provided in Huxon at the infrastructure setup step, where the various local nodes are defined. This step requires the sudo permissions

```bash
sudo iotedgehubdev setup -c "<connection-string>" -g edgehub
```

5. Run the simulation of the various edge modules to see the various messages being generated by the module.

```bash
iotedgehubdev start -d config/deployment.amd64.json -v
```

Now that everything is setup, you can modify and customize the module with your code, for instance using the code in the examples directory.
